<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Template 1</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- ✅ Editable wrapper -->
  <div id="index">
    
    <header id="header">
      <div id="div1">
        <img src="your-logo.jpg" id="logo" alt="Logo" />
        <h2 id="heading-title">Your Title</h2>
      </div>
    </header>

    <div id="div2">
      <!-- Search -->
      <input type="text" placeholder="Search..." id="searchbar">
      <button type="submit" id="btn1">Search</button> 

      <!-- Navigation -->
      <nav>
        <ul class="horizontal-list" id="nav">
          <li><a href="index.html" id="home">Home</a></li>
          <li><a href="#" id="about">About</a></li>
          <li><a href="#" id="services">Services</a></li>
          <li><a href="#" id="contact">Contact</a></li>
        </ul>
      </nav>

      <!-- Slideshow -->
      <div class="slideshow-container">
        <img class="slide" src="banner1.jpg" alt="Banner 1">
        <img class="slide" src="banner2.jpg" alt="Banner 2">
        <img class="slide" src="banner3.jpg" alt="Banner 3">
        <!-- Arrows -->
        <a class="prev" onclick="changeSlide(-1)">&#10094;</a>
        <a class="next" onclick="changeSlide(1)">&#10095;</a>
      </div>

      <!-- ✅ Product Container -->
      <div class="product-container">
        <a href="product.html" class="product-link">
          <div class="product-box">
            <img src="product.jpg" alt="Product Image" class="product-image">
            <h2 class="product-title">Product Name</h2>
            <p class="product-price">₹999</p>
            <button class="buy-now">Buy Now</button>
          </div>
        </a>
      </div>
    </div>

    <footer id="footer1">© 2025 Your Company</footer>

  </div> <!-- ✅ End #index -->

  <script src="index.js"></script>

  <!-- ✅ Fixed Save/Restore Script -->
  <script>
  window.addEventListener("load", () => {
    // Notify parent editor iframe is ready
    if (window.parent && window.parent.onIframeLoaded) {
      window.parent.onIframeLoaded();
    }

    const page = window.location.pathname.split("/").pop().replace(".html","");

    // Restore only body content (not head/scripts)
    const saved = localStorage.getItem("userTemplateDraft");
    if (saved) {
      const pages = JSON.parse(saved);
      if (pages[page]) {
        const parser = new DOMParser();
        const savedDoc = parser.parseFromString(pages[page], "text/html");
        document.body.innerHTML = savedDoc.body.innerHTML; // ✅ keeps scripts alive
      }
    }

    // Save edits
    document.addEventListener("input", () => {
      const saved = localStorage.getItem("userTemplateDraft");
      const pages = saved ? JSON.parse(saved) : {};
      pages[page] = document.body.outerHTML; // ✅ only body
      localStorage.setItem("userTemplateDraft", JSON.stringify(pages));
    });
  });
  </script>
</body>
</html>
